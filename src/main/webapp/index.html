<html>
  <head>
    <title>XYZ</title>
    <meta content="">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- Popper.JS -->
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
    
    <style>
    	.hide{display:none}
    </style>
  </head>
  <body>
	<div class="container mt-3">
		<div class="row">
			<div class="col-lg-12 border p-3" id="existSection">
				<div class="row">
					<div class="col-lg-12 text-center">
						<h3>Existing Rules</h3>
					</div>
					<div class="col-lg-12 pl-5 pr-5">
						<div id="existingrules">
							
						</div>
					</div>
					<div class="col-lg-4"></div>
					<div class="col-lg-2">
					<button class="btn btn-info w-100" onclick="createRule()">Create New Rule</button>
					</div>
					<div class="col-lg-2">
					<button class="btn btn-primary w-100" onclick="submitE()">Submit</button>
					</div>					
					<div class="col-lg-4"></div>
				</div>
			</div>
		</div>
		<div class="row mt-2 hide" id="ifSection">
			<div class="col-lg-12 border p-3">
				<div class="row">
					<div class="col-lg-12 text-center">
						<h3>If Rules</h3>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-3">
						<h5>Subject</h5>
					</div>
					<div class="col-lg-3">
						<h5>Predicate</h5>
					</div>
					<div class="col-lg-3">
						<h5>Object</h5>
					</div>
					<div class="col-lg-3">
						<h5>AND/OR</h5>
					</div>
				</div>
				<div id="ifrules" class="mb-2">
				<div class="row mt-1">
					<div class="col-lg-3 text-center">
						<select class="form-control subject">
							<option value="A">A</option>
							<option value="B">B</option>
							<option value="C">C</option>
						</select>
					</div>
					<div class="col-lg-3 text-center">
						<select class="form-control predicate">
							<option value="A">A</option>
							<option value="B">B</option>
							<option value="C">C</option>
						</select>
					</div>
					<div class="col-lg-3 text-center">
						<select class="form-control object">
							<option value="A">A</option>
							<option value="B">B</option>
						</select>
					</div>
					<div class="col-lg-3 text-center">
						<select class="form-control and">
							<option value="AND">AND</option>
							<option value="OR">OR</option>
						</select>
					</div>
				</div>
				</div>
				<div class="row">
					<div class="col-lg-4"></div>
					<div class="col-lg-2">
						<button class="btn btn-info w-100" onclick="addRule()">Add</button>
					</div>
					<div class="col-lg-2">
						<button class="btn btn-primary w-100" onclick="done()">Done</button>
					</div>					
					<div class="col-lg-4"></div>
				</div>
			</div>
		</div>
		<div class="row mt-2 hide" id="thenSection">
			<div class="col-lg-12 border p-3">
				<div class="row">
					<div class="col-lg-12 text-center">
						<h3>Then Rules</h3>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-4">
						<h5>Subject</h5>
					</div>
					<div class="col-lg-4">
						<h5>Predicate</h5>
					</div>
					<div class="col-lg-4">
						<h5>Object</h5>
					</div>
				</div>
				<div id="ifrules" class="mb-2">
				<div class="row">
					<div class="col-lg-4 text-center">
						<input type="text" id="then_subject" placeholder="Enter Value" class="form-control">
					</div>
					<div class="col-lg-4 text-center">
						<input type="text" id="then_predicate" placeholder="Enter Value" class="form-control">
					</div>
					<div class="col-lg-4 text-center">
						<input type="text" id="then_object" placeholder="Enter Value" class="form-control">
					</div>
					
				</div>
				</div>
				<div class="row">
					<div class="col-lg-5"></div>
					<div class="col-lg-2">
						<button class="btn btn-success w-100" onclick="submit()">Submit</button>
					</div>
					<div class="col-lg-5"></div>
				</div>
			</div>
		</div>
	</div>
  </body>
  <script>
  var if_rules=[];
  var existing_rules=[];
  var then_rules={subject:"",predicate:"",object:""};
  var existingrules=["Rule 1","Rule 2", "Rule 3","Rule 4"];
  
  function createRule(){
  	 $('#existSection').hide();
	  $('#ifSection').show();
}
  function existingRules(){
	var str="";
	for(var i=0;i<existingrules.length;i++){
		str+=`
			<div class="form-group">
				<label class="form-check-label">
					<input type="checkbox" class="form-check-input existing" value="${existingrules[i]}">${existingrules[i]}
				</label>
			</div>
		`;
	}
	$('#existingrules').html(str);
  }
  existingRules();
function addRule(){
	var str="";
	str+=`<div class="row mt-1">
	<div class="col-lg-3 text-center">
	<select class="form-control subject">
	<option value="A">A</option>
	<option value="B">B</option>
	<option value="C">C</option>
	</select>
	</div>
	<div class="col-lg-3 text-center">
	<select class="form-control predicate">
	<option value="A">A</option>
	<option value="B">B</option>
	<option value="C">C</option>
	</select>
	</div>
	<div class="col-lg-3 text-center">
	<select class="form-control object">
	<option value="A">A</option>
	<option value="B">B</option>
	</select>
	</div>
	<div class="col-lg-3 text-center">
	<select class="form-control and">
	<option value="AND">AND</option>
	<option value="OR">OR</option>
	</select>
	</div>
	</div>`;
	$('#ifrules').append(str);
}

function done(){
	$('#thenSection').show();
	var subject=$('.subject');
	var predicate=$('.predicate');
	var object=$('.object');
	var and=$('.and');
	console.log(subject);
	for(var i=0;i<subject.length;i++){
		var temp={subject:subject[i].value,predicate:predicate[i].value,object:object[i].value,and:and[i].value};
		if_rules.push(temp);
	}
	console.log(rules);
}
function submitE(){
	var existing=$('.existing');
	for(var i=0;i<existing.length;i++){
		if(existing[i].checked==true)
		existing_rules.push(existing[i].value);
	}
	console.log(existing_rules);
}
function submit(){
	then_rules.subject=$('#then_subject').val();
	then_rules.predicate=$('#then_predicate').val();
	then_rules.object=$('#then_object').val();
	console.log(then_rules);
}
  </script>
</html>
